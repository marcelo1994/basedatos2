

*****Crear las tablas*****
CREATE TABLE  PRODUCTO (ID_PRODUCTO int, TIPO varchar2(20), MARCA varchar2(20), NOMBRE_PRODUCTO varchar2(20), PRECIO int, CONSTRAINT PK_ID_PRODUCTO PRIMARY KEY(ID_PRODUCTO));
CREATE TABLE VENTAS (ID_VENTAS int, ID_CLIENTE int, ID_PRODUCTO int, NUM_PRODUCTOS varchar2(20),
CARGO_TOTAL varchar2(20), FORMA_PAGO varchar2(20), CONSTRAINT PKL_ID_VENTAS PRIMARY KEY(ID_VENTAS), CONSTRAINT FK1_ID_CLIENTE FOREIGN KEY (ID_CLIENTE) REFERENCES CLIENTE(ID_CLIENTE), CONSTRAINT FK2_ID_PRODUCTO FOREIGN KEY (ID_PRODUCTO) REFERENCES PRODUCTO (ID_PRODUCTO));
CREATE TABLE CLIENTE (ID_CLIENTE int, NOMBRE varchar2(20), DIRECCION varchar2(20) CONSTRAINT PK_ID_CLIENTE PRIMARY KEY(ID_CLIENTE));

*****Ahi que crear una secuencia asociada a cada tabla*****
CREATE SEQUENCE SEC_PRODUCTO
start with 1
increment by 1
nomaxvalue;
CREATE SEQUENCE SEC_VENTAS
start with 1
increment by 1
nomaxvalue;
CREATE SEQUENCE SEC_CLIENTE
start with 1
increment by 1
nomaxvalue;

*******Ceamos los procedimientos, uno para cada tabla*********
CREATE OR REPLACE PROCEDURE GUARDAR_PRODUCTO
(
MY_ID_PRODUCTO OUT NUMBER,
MY_TIPO IN VARCHAR2,
MY_MARCA IN VARCHAR2,
MY_NOMBRE_PRODUCTO IN VARCHAR2,
MY_PRECIO OUT NUMBER
) AS BEGIN
SELECT SEC_PRODUCTO.NEXTVAL INTO MY_ID_PRODUCTO FROM DUAL;
INSERT INTO PRODUCTO VALUES (MY_ID_PRODUCTO, MY_TIPO, MY_MARCA, MY_NOMBRE_PRODUCTO,MY_PRECIO);
END GUARDAR_PRODUCTO;
CREATE OR REPLACE PROCEDURE GUARDAR_VENTAS
(
MY_ID_VENTAS OUT NUMBER,
MY_ID_CLIENTE OUT NUMBER,
MY_ID_PRODUCTO OUT NUMBER,
MY_NUM_PRODUCTOS IN VARCHAR2,
MY_CARGO_TOTAL IN VARCHAR2,
MY_FORMA_PAGO IN VARCHAR2
) AS BEGIN
SELECT SEC_VENTAS.NEXTVAL INTO MY_ID_VENTAS FROM DUAL;
INSERT INTO VENTAS VALUES (MY_ID_CLIENTE, MY_ID_PRODUCTO,MY_NUM_PRODUCTOS, MY_CARGO_TOTAL,MY_FORMA_PAGO);
END GUARDAR_VENTAS;
CREATE OR REPLACE PROCEDURE GUARDAR_CLIENTE
(
MY_ID_CLIENTE OUT NUMBER,
MY_NOMBRE IN VARCHAR2,
MY_DIRECCION IN VARCHAR2,
) AS BEGIN
SELECT SEC_CLIENTE.NEXTVAL INTO MY_ID_CLIENTE FROM DUAL;
INSERT INTO CLIENTE VALUES (MY_ID_CLIENTE, MY_NOMBRE,MY_NUM_DIRECCION);
END GUARDAR_CLIENTE;

******ESTE COMANDO SIRVE PARA BORRAR UNA TABLA******
DROP TABLE VENTAS;
